<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:composition>  
       
           <legend style="font-family: fantasy; font-size: 400%; margin-left: 38%">Clientes</legend>
        <main style="margin:6%; overflow: scroll; height:500px">
             
            <table id="tClientes">
               
                <tr align="center"> 
                    <th>IdCliente</th>
                    <th>Primer nombre</th> 
                    <th>Segundo nombre</th> 
                    <th>Primer apellido</th> 
                    <th>Segundo apellido</th>
                    <th>Correo</th>
                    <th>Numero celular</th>
                    <th>Direcci√≥n</th>
                    <th>Fecha de nacimiento</th>
                    <th>Estado</th>
                    <th>Cambiar estado</th>
                </tr>
                <h:form>
                <c:forEach var="cli" items="#{clienteSession.leerTodo()}">
                    <tr>
                        <td>#{cli.idClientes}</td>
                        <td>#{cli.personas.primerNombre}</td>
                        <td>#{cli.personas.segundoNombre}</td>
                        <td>#{cli.personas.primerApellido}</td>
                        <td>#{cli.personas.segundoApellido}</td>
                        <td>#{cli.personas.correo}</td>
                        <td>#{cli.personas.numeroCelular}</td>
                        <td>#{cli.personas.tipoDeVia} #{cli.personas.numeroVia}#{cli.personas.letraVia} #{cli.personas.numero} #{cli.personas.letra} #{cli.personas.numeroApto}</td>
                        <td>#{cli.personas.fechaDeNacimiento}</td>
                        <td>
                            <c:if test="#{cli.estados == 1}">
                                <button type="button" class="btn btn-success">A</button>
                            </c:if>
                            <c:if test="#{cli.estados == 0}">
                                <button type="button" class="btn btn-warning">I</button>
                            </c:if>
                        
                        </td>
                        <td><h:commandButton action="#{clienteSession.cambiarEstado(cli)}" class="btn btn-outline-danger" value="Cambiar"></h:commandButton></td>
                    </tr>
                </c:forEach>
                    </h:form>
            </table>
           
        </main> 
         <button id="btnExportar" class="btn btn-success">
                <i class="fas fa-file-excel"></i> Exportar datos a Excel
            </button>
            

        
    </ui:composition>
</html>

